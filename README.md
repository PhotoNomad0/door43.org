master | [![Build Status](https://travis-ci.org/unfoldingWord-dev/door43.org.svg?branch=master)](https://travis-ci.org/unfoldingWord-dev/door43.org)

develop | [![Build Status](https://travis-ci.org/unfoldingWord-dev/door43.org.svg?branch=develop)](https://travis-ci.org/unfoldingWord-dev/door43.org)

# door43.org

This is the source for door43.org website.  Note that it does not include the files that show up at door43.org/u/ as those are created by the [tX conversion app](https://github.com/unfoldingWord-dev/door43.org/wiki/tX-Development-Architecture).

## Project Overview

The http://door43.org site provides a front end view to all of the content in the Door43 ecosystem.  The source content on http://git.door43.org is converted into HTML and uploaded to the correct location on http://door43.org.

Whenever a source repository is updated, it notifies (via webhook) the conversion app to convert the content and publish it online.  A repository like https://git.door43.org/jag3773/ULB-pt-br will become a published web page at http://door43.org/u/jag3773/ULB-pt-br/.

The pages outside of the `/u/` location on the site are generated by Jekyll and provide localized navigation, Door43 project information, and curated content recommendations for each language.

## Developer Quickstart Information

### Door43.org Jekyll Site

#### Installation

To setup a development environment for developing on this site, you need to run the following commands (after cloning this repo):

    cd door43.org
    bundle install

If you do not have the `bundle` executable, then you'll need to run `sudo gem install bundle` first.

#### Updating dependencies

    bundle update

#### Publishing Setup

There are two branches that are built and deployed to S3 by Travis CI:

* `develop`
* `master`

The develop branch may be seen online at http://test-door43.org.s3-website-us-west-2.amazonaws.com.

The master branch is available at https://live.door43.org (soon to be at https://door43.org).

#### Pre Production Testing

You may run `make test`, or `make build`, or `make serve` to test and review your changes locally.  Once the `cibuild.sh` script passes successfully locally, you may commit and push to the `develop` branch.  You can do this by running `make commit`.

#### Push to Production

If Travis CI has built and deployed the `develop` branch successfully, you may merge it into the `master` branch.  You can do this by running `make publish`.  Your changes should be visible within 5 minutes on https://live.door43.org.

#### Open source acknowledgements

* http://jekyllrb.com
* https://github.com/aucor/jekyll-plugins
* https://github.com/jekyll/jekyll-sitemap
* https://github.com/mivok/markdownlint
* https://github.com/gjtorikian/html-proofer
